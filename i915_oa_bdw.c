#include <stdint.h>
#include "i915_oa_bdw.h"
#include "i915_oa_drm.h"

static const uint64_t b_counter_config_memory_writes[] = {
	0x2724, 0xf0800000,
	0x2720, 0x00000000,
	0x2714, 0xf0800000,
	0x2710, 0x00000000,
	0x274c, 0x86543210,
	0x2748, 0x86543210,
	0x2744, 0x00006667,
	0x2740, 0x00000000,
	0x275c, 0x86543210,
	0x2758, 0x86543210,
	0x2754, 0x00006465,
	0x2750, 0x00000000,
	0x2770, 0x0007f81a,
	0x2774, 0x0000fe00,
	0x2778, 0x0007f82a,
	0x277c, 0x0000fe00,
	0x2780, 0x0007f822,
	0x2784, 0x0000fe00,
	0x2788, 0x0007f8ba,
	0x278c, 0x0000fe00,
	0x2790, 0x0007f87a,
	0x2794, 0x0000fe00,
	0x2798, 0x0007f8ea,
	0x279c, 0x0000fe00,
	0x27a0, 0x0007f8e2,
	0x27a4, 0x0000fe00,
	0x27a8, 0x0007f8f2,
	0x27ac, 0x0000fe00,
};

static const uint64_t flex_eu_config_memory_writes[] = {
	0xE458, 0x00005004,
	0xE558, 0x00015014,
	0xE658, 0x00025024,
	0xE758, 0x00035034,
	0xE45c, 0x00045044,
	0xE55c, 0x00055054,
	0xE65c, 0x00065064,
};

static const uint64_t mux_config_memory_writes[] = {
	0x9888, 0x198B0343,
	0x9888, 0x13845400,
	0x9888, 0x3580001A,
	0x9888, 0x3D800805,
	0x9888, 0x038B6300,
	0x9888, 0x058B6B62,
	0x9888, 0x078B006A,
	0x9888, 0x118B0000,
	0x9888, 0x238B0000,
	0x9888, 0x258B0000,
	0x9888, 0x1F85A080,
	0x9888, 0x2185AAAA,
	0x9888, 0x23850002,
	0x9888, 0x07834000,
	0x9888, 0x09834000,
	0x9888, 0x0B834000,
	0x9888, 0x0D834000,
	0x9888, 0x01840010,
	0x9888, 0x07844880,
	0x9888, 0x09840992,
	0x9888, 0x0B840A94,
	0x9888, 0x0D840B96,
	0x9888, 0x11840000,
	0x9888, 0x03848000,
	0x9888, 0x0584C000,
	0x9888, 0x2D800147,
	0x9888, 0x2F8000E5,
	0x9888, 0x138080E3,
	0x9888, 0x1580C0E1,
	0x9888, 0x21800000,
	0x9888, 0x11804000,
	0x9888, 0x1780C000,
	0x9888, 0x1980C000,
	0x9888, 0x1B80C000,
	0x9888, 0x1D80C000,
	0x9888, 0x1F800000,
	0x0D24, 0x00000000,
	0x9888, 0x4D800000,
	0x9888, 0x4F800000,
	0x9888, 0x43800842,
	0x9888, 0x51800000,
	0x9888, 0x45800842,
	0x9888, 0x53800000,
	0x9888, 0x47801082,
	0x9888, 0x31800000,
	0x9888, 0x3F800084,
	0x9888, 0x41800000,
};

void bdw_select_memory_writes(struct drm_i915_perf_oa_config *oa_config)
{
	oa_config->n_mux_regs = sizeof(mux_config_memory_writes) / 16;
	oa_config->mux_regs = (uint64_t)mux_config_memory_writes;

	oa_config->n_boolean_regs = sizeof(b_counter_config_memory_writes) / 16;
	oa_config->boolean_regs = (uint64_t)b_counter_config_memory_writes;

	oa_config->n_flex_regs = sizeof(flex_eu_config_memory_writes) / 16;
	oa_config->flex_regs = (uint64_t)flex_eu_config_memory_writes;
}
